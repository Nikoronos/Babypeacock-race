<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Babypeacock Race</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:#04020a;
      color:#fff;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      min-height:100vh;
    }
    .wrap{width:100%;max-width:1200px;padding:16px;}

    .top{
      display:flex;justify-content:space-between;align-items:flex-start;
      gap:8px;flex-wrap:wrap;margin-bottom:6px;
    }
    .logo{
      display:flex;align-items:center;gap:6px;
      font-weight:800;font-size:22px;
    }
    .logo span{font-size:22px;}
    .tag{font-size:11px;opacity:.9;}
    .pill{
      padding:6px 10px;border-radius:999px;
      background:rgba(0,0,0,.65);font-size:9px;
      display:flex;flex-direction:column;gap:1px;align-items:flex-end;
    }
    .pill strong{color:#ffd44a;font-size:10px;}

    .bar{
      margin-top:4px;padding:6px 10px;
      border-radius:14px;
      background:linear-gradient(to right,rgba(0,0,0,.9),rgba(112,29,190,.95));
      display:flex;justify-content:space-between;align-items:center;
      gap:8px;flex-wrap:wrap;font-size:10px;
    }
    .label{font-weight:700;color:#ffdd73;margin-right:4px;}
    .btns{display:flex;gap:6px;flex-wrap:wrap;}
    button{
      border:none;cursor:pointer;padding:6px 16px;border-radius:999px;
      font-size:9px;font-weight:700;letter-spacing:.11em;
      text-transform:uppercase;
      background:#ff3636;color:#fff;
      box-shadow:0 3px 10px rgba(0,0,0,.45);
      transition:all .12s;
    }
    button:hover{
      transform:translateY(-1px);
      box-shadow:0 5px 14px rgba(0,0,0,.6);
      background:#ff5555;
    }
    button.sec{
      background:rgba(255,255,255,.08);
      color:#ffdede;
      box-shadow:none;
    }
    button.sec:hover{
      background:rgba(255,255,255,.18);
    }

    .track-wrap{
      margin-top:10px;
      display:flex;
      justify-content:center;
    }

    .track{
      position:relative;
      width:100%;
      max-width:1200px;
      height:260px;
      border-radius:22px;
      overflow:hidden;
      box-shadow:0 14px 30px rgba(0,0,0,.9);
      background:#0b0215;
    }

    .sky{
      position:absolute;inset:0;z-index:0;
      background:
        radial-gradient(circle at 10% 0,rgba(255,255,255,.18)0,transparent40%),
        radial-gradient(circle at 85% -5%,rgba(255,0,255,.25)0,transparent55%),
        radial-gradient(circle at 40% -10%,rgba(120,80,255,.3)0,transparent55%),
        linear-gradient(to bottom,#2b0a66 0%,#5e26aa 40%,#c45a6a 65%,#ff7a35 82%,#c63b1c 100%);
      animation:sky 5s ease-in-out infinite alternate;
    }
    @keyframes sky{
      0%{filter:brightness(1);}
      100%{filter:brightness(1.08) saturate(1.06);}
    }

    .mount{
      position:absolute;left:-40px;right:-40px;bottom:37%;height:40px;z-index:1;
      background:
        radial-gradient(circle at 5% 100%,rgba(95,35,70,.9)0,transparent70%),
        radial-gradient(circle at 35% 100%,rgba(150,55,75,.95)0,transparent70%),
        radial-gradient(circle at 75% 100%,rgba(145,45,65,.9)0,transparent70%);
      filter:blur(.5px);
    }

    .ground{
      position:absolute;left:-40px;right:-40px;bottom:0;height:40%;z-index:2;
      background:
        repeating-linear-gradient(
          to right,
          rgba(255,255,255,.55),rgba(255,255,255,.55)24px,
          transparent24px,transparent48px
        ),
        linear-gradient(to top,#ff7a35,#f2642c);
      background-size:220px 3px,100% 100%;
      background-position-y:30px,0;
      animation:trackMove 1s linear infinite;
    }
    @keyframes trackMove{
      from{background-position-x:0,0;}
      to{background-position-x:-220px,0;}
    }
    .ground.stop{animation-play-state:paused;}

    .lane{
      position:absolute;
      left:7%;
      right:5%;
      height:32px;
      border-bottom:2px solid rgba(255,255,255,.28);
      z-index:3;
    }

    .flag{
      position:absolute;top:20px;right:5%;width:14px;height:72%;
      background-image:linear-gradient(to bottom,#fff 0,#fff 6px,#000 6px,#000 12px);
      background-size:14px 12px;background-repeat:repeat-y;
      border-radius:8px;
      box-shadow:0 0 6px rgba(0,0,0,.95);
      z-index:4;
    }

    .banner{
      position:absolute;top:12px;left:50%;
      transform:translateX(-50%);
      padding:4px 14px;
      border-radius:999px;
      font-size:10px;
      background:rgba(0,0,0,.88);
      box-shadow:0 4px 10px rgba(0,0,0,.8);
      display:none;
      white-space:nowrap;
      z-index:6;
    }
    .banner.ok{
      background:linear-gradient(to right,#ffce3a,#ff4e4e);
      color:#1b0209;
      font-weight:800;
    }

    .runner{
      position:absolute;
      display:flex;
      align-items:flex-end;
      gap:4px;
      z-index:5;
      transform-origin:center bottom;
    }
    .runner img{
      height:46px;
      filter:drop-shadow(0 2px 4px rgba(0,0,0,.9));
    }
    .name{
      font-size:8px;
      padding:2px 6px;
      border-radius:10px;
      background:rgba(0,0,0,.78);
    }
    .runner.peacock .name{
      background:#23c483;
      color:#02110c;
      font-weight:700;
    }

    @keyframes run{
      0%{transform:translateY(0);}
      25%{transform:translateY(-2px);}
      50%{transform:translateY(0);}
      75%{transform:translateY(-1px);}
      100%{transform:translateY(0);}
    }
    .runner.go{animation:run .18s linear infinite;}

    @media(max-width:600px){
      .wrap{padding:10px;}
      .logo{font-size:18px;}
      .track{height:230px;}
      .runner img{height:40px;}
      .lane{height:28px;}
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="top">
    <div>
      <div class="logo"><span>ðŸ¦š</span>Babypeacock Race</div>
      <div class="tag">Everyone runs â€” we win.</div>
    </div>
    <div class="pill">
      <span>Feather: <strong>#feathers ðŸª¶</strong></span>
      <span>Babypeacock stays on top.</span>
    </div>
  </div>

  <div class="bar">
    <div><span class="label">Final Sprint!</span><span id="status">Babypeacock stays on top.</span></div>
    <div class="btns">
      <button id="start">Start Race</button>
      <button id="reset" class="sec">Reset</button>
    </div>
  </div>

  <div class="track-wrap">
    <div class="track" id="track">
      <div class="sky"></div>
      <div class="mount"></div>
      <div class="ground" id="ground"></div>
      <div class="flag"></div>
      <div class="banner" id="banner"></div>

      <div class="lane" style="bottom:210px;"></div>
      <div class="lane" style="bottom:176px;"></div>
      <div class="lane" style="bottom:142px;"></div>
      <div class="lane" style="bottom:108px;"></div>
      <div class="lane" style="bottom:74px;"></div>
      <div class="lane" style="bottom:40px;"></div>
    </div>
  </div>
</div>

<script>
const track = document.getElementById("track");
const ground = document.getElementById("ground");
const statusEl = document.getElementById("status");
const startBtn = document.getElementById("start");
const resetBtn = document.getElementById("reset");
const banner = document.getElementById("banner");

const data = [
  {id:"peacock", name:"Babypeacock", img:"Peacock.png", lane:5, scale:1.0},
  {id:"ostrich", name:"Ostrich", img:"Ostrich.png", lane:4, scale:0.95},
  {id:"doge", name:"Doge", img:"Doge.png", lane:3, scale:0.9},
  {id:"cat", name:"Cat", img:"Cat.png", lane:2, scale:0.86},
  {id:"pig", name:"Pig", img:"Pig.png", lane:1, scale:0.83},
  {id:"raccoon", name:"Raccoon", img:"Raccoon.png", lane:0, scale:0.8}
];

let racers = [];
let started = false;
let finished = false;
let animId = null;

function setup(){
  racers.forEach(r => r.el.remove());
  racers = [];
  const lanes = Array.from(track.getElementsByClassName("lane"));
  const startX = track.clientWidth * 0.06;

  data.forEach(d => {
    const lane = lanes[d.lane];
    const el = document.createElement("div");
    el.className = "runner" + (d.id === "peacock" ? " peacock" : "");
    const img = document.createElement("img");
    img.src = d.img;
    img.alt = d.name;
    img.style.transform = `scale(${d.scale})`;
    const name = document.createElement("div");
    name.className = "name";
    name.textContent = d.name;
    el.appendChild(img);
    el.appendChild(name);
    el.style.left = startX + "px";
    el.style.bottom = (parseFloat(lane.style.bottom) - 6) + "px";
    track.appendChild(el);
    racers.push({id:d.id, name:d.name, el, x:startX, speed:0});
  });

  banner.style.display = "none";
  banner.classList.remove("ok");
  statusEl.textContent = "Babypeacock stays on top.";
  ground.classList.remove("stop");
  started = false;
  finished = false;
}

function startRace(){
  if(started) return;
  started = true;
  finished = false;
  statusEl.textContent = "Everyone runs...";
  racers.forEach(r => {
    let base = 1.2 + Math.random() * 0.6;
    if(r.id === "peacock") base += 0.22;
    r.speed = base;
    r.el.classList.add("go");
  });

  const finishX = track.clientWidth * 0.88;

  function step(){
    if(finished) return;
    let win = null;
    racers.forEach(r => {
      if(finished) return;
      const jitter = (Math.random() - 0.5) * 0.25;
      r.x += r.speed + jitter;
      if(r.x >= finishX){
        r.x = finishX;
        finished = true;
        win = r;
      }
      r.el.style.transform = `translateX(${r.x - track.clientWidth*0.06}px)`;
    });
    if(win) showResult(win);
    else animId = requestAnimationFrame(step);
  }
  animId = requestAnimationFrame(step);
}

function showResult(w){
  racers.forEach(r => r.el.classList.remove("go"));
  ground.classList.add("stop");
  const peacockWin = w.id === "peacock";
  if(peacockWin){
    banner.textContent = "ðŸ¦š Everyone runs â€” Babypeacock wins.";
    banner.classList.add("ok");
    statusEl.textContent = "Babypeacock stays on top.";
  }else{
    banner.textContent = `ðŸ ${w.name} first... Babypeacock still wins the story.`;
    statusEl.textContent = `Winner: ${w.name}. Run again.`;
  }
  banner.style.display = "block";
}

startBtn.onclick = startRace;
resetBtn.onclick = () => {
  cancelAnimationFrame(animId);
  setup();
};

window.addEventListener("load", setup);
window.addEventListener("resize", () => { if(!started) setup(); });
</script>
</body>
</html>
